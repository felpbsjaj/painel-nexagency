<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NexAgency - Overview</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-database-compat.js"></script>
    <style>
        body { background-color: #0f172a; font-family: 'Inter', sans-serif; color: white; margin: 0; }
        .sidebar { background-color: #1e293b; border-right: 1px solid #334155; min-height: 100vh; }
        .card-stat { background-color: #1e293b; border: 1px solid #334155; border-radius: 12px; padding: 20px; transition: 0.3s; }
        .card-stat:hover { border-color: #3b82f6; }
        .icon-box { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; }
        .text-label { color: #94a3b8; font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
        .text-value { font-size: 24px; font-weight: 800; margin-top: 4px; }
        .highlight-green { color: #4ade80; }
    </style>
</head>
<body class="flex">

    <aside class="w-64 sidebar hidden md:flex flex-col p-6 sticky top-0 h-screen">
        <img src="https://res.cloudinary.com/dsreg6hmo/image/upload/v1767891428/BetBoard/Photos/gpkghm2vdoohymfufbuw.png" class="h-8 mb-10 w-fit">
        <nav class="space-y-2">
            <div class="text-slate-500 text-[10px] font-bold mb-4 uppercase">Menu Principal</div>
            <a href="#" class="flex items-center text-blue-400 bg-slate-800/50 p-3 rounded-lg border-l-4 border-blue-500">
                <span class="mr-3">üìä</span> Overview
            </a>
            <button onclick="logout()" class="flex items-center text-slate-400 hover:text-white p-3 w-full text-left mt-20">
                <span class="mr-3">‚Ü™Ô∏è</span> Sair
            </button>
        </nav>
    </aside>

    <main class="flex-1 p-8">
        <header class="flex justify-between items-center mb-8">
            <div class="flex items-center gap-4">
                <span class="text-slate-400">üè†</span>
                <h2 class="text-xl font-bold">Overview</h2>
            </div>
            <div class="flex items-center gap-3 bg-slate-800/30 p-2 px-4 rounded-full border border-slate-700">
                <span id="userName" class="text-xs font-semibold">...</span>
                <div class="h-8 w-8 bg-slate-700 rounded-full flex items-center justify-center text-xs font-bold border border-blue-500">N-</div>
            </div>
        </header>

        <div class="flex gap-4 mb-8 text-[11px] text-slate-400">
            <div class="bg-slate-800/50 px-3 py-1 rounded border border-slate-700">Filtros ativos:</div>
            <div class="bg-slate-800/50 px-3 py-1 rounded border border-slate-700">Data in√≠cio: 01/01/2026 ‚úï</div>
            <div class="bg-slate-800/50 px-3 py-1 rounded border border-slate-700">Todas as casas ‚úï</div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            
            <div class="card-stat flex items-center gap-4">
                <div class="icon-box"><img src="https://img.icons8.com/ios/50/4ade80/smartphone-tablet.png" class="h-10"></div>
                <div>
                    <div class="text-label">FTD</div>
                    <div id="ftd" class="text-value">0</div>
                </div>
            </div>

            <div class="card-stat flex items-center gap-4">
                <div class="icon-box"><img src="https://img.icons8.com/ios/50/4ade80/add-user-male.png" class="h-10"></div>
                <div>
                    <div class="text-label">REGISTRO</div>
                    <div id="registros" class="text-value">0</div>
                </div>
            </div>

            <div class="card-stat flex items-center gap-4">
                <div class="icon-box"><img src="https://img.icons8.com/ios/50/4ade80/checked-user-male.png" class="h-10"></div>
                <div>
                    <div class="text-label">QFTD</div>
                    <div id="qftd" class="text-value">0</div>
                </div>
            </div>

            <div class="card-stat flex items-center gap-4">
                <div class="icon-box"><img src="https://img.icons8.com/ios/50/4ade80/bank.png" class="h-10"></div>
                <div>
                    <div class="text-label">DEP√ìSITO</div>
                    <div id="depositos" class="text-value highlight-green">R$ 0,00</div>
                </div>
            </div>

            <div class="card-stat flex items-center gap-4">
                <div class="icon-box"><img src="https://img.icons8.com/ios/50/4ade80/combo-chart.png" class="h-10"></div>
                <div>
                    <div class="text-label">REV</div>
                    <div class="text-value highlight-green">R$ 0,00</div>
                </div>
            </div>

            <div class="card-stat flex items-center gap-4 border-blue-500 bg-slate-800/40">
                <div class="icon-box"><img src="https://img.icons8.com/ios/50/3b82f6/money-bag-euro.png" class="h-10"></div>
                <div>
                    <div class="text-label text-blue-400">CPA</div>
                    <div id="cpa" class="text-value highlight-green">R$ 0,00</div>
                </div>
            </div>

            <div class="card-stat flex items-center gap-4">
                <div class="icon-box"><img src="https://img.icons8.com/ios/50/4ade80/stack-of-money.png" class="h-10"></div>
                <div>
                    <div class="text-label">REV + CPA</div>
                    <div id="total" class="text-value highlight-green">R$ 0,00</div>
                </div>
            </div>

        </div>
    </main>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyC0oiw7obzsGDBvDr_enJQ1eNHmgPkwNA8",
            authDomain: "nexagency-84caa.firebaseapp.com",
            databaseURL: "https://nexagency-84caa-default-rtdb.firebaseio.com",
            projectId: "nexagency-84caa",
            storageBucket: "nexagency-84caa.firebasestorage.app",
            messagingSenderId: "691404707224",
            appId: "1:691404707224:web:8fed7daf6b4c7c9f8347ed"
        };
        firebase.initializeApp(firebaseConfig);

        const user = localStorage.getItem('usuarioLogado');
        if(!user) window.location.href = 'index.html';
        document.getElementById('userName').innerText = user;

        firebase.database().ref('usuarios/' + user).on('value', (s) => {
            const d = s.val();
            if(d) {
                document.getElementById('ftd').innerText = d.ftd || 0;
                document.getElementById('registros').innerText = d.registros || 0;
                document.getElementById('qftd').innerText = d.qftd || 0;
                document.getElementById('depositos').innerText = "R$ " + parseFloat(d.depositos || 0).toLocaleString('pt-BR');
                document.getElementById('cpa').innerText = "R$ " + parseFloat(d.saldo || 0).toLocaleString('pt-BR');
                document.getElementById('total').innerText = "R$ " + parseFloat(d.saldo || 0).toLocaleString('pt-BR');
            }
        });

        function logout() { localStorage.clear(); window.location.href = 'index.html'; }
    </script>
</body>
</html>
